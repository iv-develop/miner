[gd_scene load_steps=16 format=4 uid="uid://cyrx2hrya7nkm"]

[ext_resource type="Shader" path="res://tilemap.gdshader" id="1_i47fa"]
[ext_resource type="Texture2D" uid="uid://bsodd6x7fofce" path="res://player.png" id="2_71ocm"]
[ext_resource type="Script" path="res://player.gd" id="2_gcylo"]
[ext_resource type="TileSet" uid="uid://bpluxuvck2obj" path="res://TileSet.tres" id="3_6t10q"]
[ext_resource type="Texture2D" uid="uid://d1ixts10ymdlo" path="res://drill.png" id="4_a6cya"]
[ext_resource type="Texture2D" uid="uid://ceokfnblqvioy" path="res://light.png" id="4_t7al4"]
[ext_resource type="Texture2D" uid="uid://c3pkatxgo8j8r" path="res://TilemapNoise.tres" id="5_tt8qs"]
[ext_resource type="Shader" path="res://bgshader.gdshader" id="8_kfvqf"]

[sub_resource type="CircleShape2D" id="CircleShape2D_holml"]
radius = 5.0

[sub_resource type="CircleShape2D" id="CircleShape2D_dph5b"]
radius = 2.0

[sub_resource type="Environment" id="Environment_yxsy2"]
glow_enabled = true
adjustment_enabled = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qyabv"]
shader = ExtResource("1_i47fa")
shader_parameter/noise_texture_size = Vector2(512, 512)
shader_parameter/noise_texture = ExtResource("5_tt8qs")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ijkat"]
shader = ExtResource("8_kfvqf")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_43poc"]
noise_type = 2
frequency = 0.0218
fractal_type = 3
cellular_distance_function = 1
cellular_jitter = 0.595
cellular_return_type = 0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_gbfw6"]
width = 800
height = 800
seamless = true
noise = SubResource("FastNoiseLite_43poc")

[node name="Game" type="Node2D"]

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(128, 128)
motion_mode = 1
floor_stop_on_slope = false
floor_block_on_wall = false
script = ExtResource("2_gcylo")

[node name="Sprite2D" type="Sprite2D" parent="Player"]
texture = ExtResource("2_71ocm")

[node name="Collision" type="CollisionShape2D" parent="Player"]
shape = SubResource("CircleShape2D_holml")

[node name="Camera" type="Camera2D" parent="Player"]
zoom = Vector2(3, 3)

[node name="DiggerCD" type="Timer" parent="Player"]
one_shot = true

[node name="PointLight2D" type="PointLight2D" parent="Player"]
rotation = 1.5708
texture = ExtResource("4_t7al4")

[node name="Digger" type="ShapeCast2D" parent="Player"]
rotation = 1.5708
shape = SubResource("CircleShape2D_dph5b")
target_position = Vector2(8, 0)

[node name="Sprite" type="Sprite2D" parent="Player/Digger"]
position = Vector2(6, 0.5)
rotation = -1.5708
texture = ExtResource("4_a6cya")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_yxsy2")

[node name="Map" type="TileMapLayer" parent="."]
material = SubResource("ShaderMaterial_qyabv")
tile_map_data = PackedByteArray("AAAPAAAAAAACAAAAAAAOAAAAAAABAAAAAAANAAAAAAABAAAAAAAMAAAAAAABAAAAAAALAAAAAAABAAAAAAAKAAAAAAABAAAAAAAGAAAAAAABAAAAAAAFAAAAAAABAAAAAAAEAAAAAAABAAAAAAADAAAAAAABAAAAAAACAAAAAAABAAAAAAABAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAABAAAAAAAPAAYAAAACAAEAAAAPAAUAAAACAAEAAAAPAAQAAAACAAEAAAAPAAMAAAACAAEAAAAPAAIAAAACAAEAAAAPAAEAAAACAAEAAAAJAAYAAAABAAEAAAAJAAMAAAABAAEAAAAMAAYAAAABAAEAAAAJAAkAAAABAAEAAAAMAAkAAAABAAEAAAAPAAkAAAACAAEAAAAJAAwAAAABAAEAAAAJAA8AAAABAAIAAAAPAA8AAAACAAIAAAAOAA8AAAABAAIAAAANAA8AAAABAAIAAAAMAA8AAAABAAIAAAALAA8AAAABAAIAAAAKAA8AAAABAAIAAAAPAA4AAAACAAEAAAAPAA0AAAACAAEAAAAPAAwAAAACAAEAAAAPAAsAAAACAAEAAAAPAAoAAAACAAEAAAAGAAkAAAABAAEAAAAGAAwAAAABAAEAAAAGAA8AAAABAAIAAAAAAA8AAAAAAAIAAAAAAAkAAAAAAAEAAAADAAkAAAABAAEAAAAAAA4AAAAAAAEAAAAAAA0AAAAAAAEAAAAAAAwAAAAAAAEAAAAAAAsAAAAAAAEAAAAAAAoAAAAAAAEAAAAFAA8AAAABAAIAAAAEAA8AAAABAAIAAAADAA8AAAABAAIAAAACAA8AAAABAAIAAAABAA8AAAABAAIAAAADAAYAAAABAAEAAAAGAAYAAAABAAEAAAAGAAMAAAABAAEAAAAAAAMAAAAAAAEAAAAAAAIAAAAAAAEAAAAAAAEAAAAAAAEAAAAAAAYAAAAAAAEAAAAAAAUAAAAAAAEAAAAAAAQAAAAAAAEAAAAOAA4AAAABAAEAAAAOAA0AAAABAAEAAAAOAAwAAAABAAEAAAAOAAsAAAABAAEAAAAOAAoAAAABAAEAAAAOAAkAAAABAAEAAAANAA4AAAABAAEAAAANAA0AAAABAAEAAAANAAwAAAABAAEAAAANAAsAAAABAAEAAAANAAoAAAABAAEAAAANAAkAAAABAAEAAAAMAA4AAAABAAEAAAAMAA0AAAABAAEAAAAMAAwAAAABAAEAAAAMAAsAAAABAAEAAAAMAAoAAAABAAEAAAALAA4AAAABAAEAAAALAA0AAAABAAEAAAALAAwAAAABAAEAAAALAAsAAAABAAEAAAALAAoAAAABAAEAAAALAAkAAAABAAEAAAAKAA4AAAABAAEAAAAKAA0AAAABAAEAAAAKAAwAAAABAAEAAAAKAAsAAAABAAEAAAAKAAoAAAABAAEAAAAKAAkAAAABAAEAAAAJAA4AAAABAAEAAAAJAA0AAAABAAEAAAAJAAsAAAABAAEAAAAJAAoAAAABAAEAAAAIAA8AAAABAAIAAAAIAA4AAAABAAEAAAAIAA0AAAABAAEAAAAIAAwAAAABAAEAAAAIAAsAAAABAAEAAAAIAAoAAAABAAEAAAAIAAkAAAABAAAAAAAHAA8AAAABAAIAAAAHAA4AAAABAAEAAAAHAA0AAAABAAEAAAAHAAwAAAABAAEAAAAHAAsAAAABAAEAAAAHAAoAAAABAAEAAAAHAAkAAAABAAAAAAAGAA4AAAABAAEAAAAGAA0AAAABAAEAAAAGAAsAAAABAAEAAAAGAAoAAAABAAEAAAAFAA4AAAABAAEAAAAFAA0AAAABAAEAAAAFAAwAAAABAAEAAAAFAAsAAAABAAEAAAAFAAoAAAABAAEAAAAFAAkAAAABAAEAAAAEAA4AAAABAAEAAAAEAA0AAAABAAEAAAAEAAwAAAABAAEAAAAEAAsAAAABAAEAAAAEAAoAAAABAAEAAAAEAAkAAAABAAEAAAADAA4AAAABAAEAAAADAA0AAAABAAEAAAADAAwAAAABAAEAAAADAAsAAAABAAEAAAADAAoAAAABAAEAAAACAA4AAAABAAEAAAACAA0AAAABAAEAAAACAAwAAAABAAEAAAACAAsAAAABAAEAAAACAAoAAAABAAEAAAACAAkAAAABAAEAAAABAA4AAAABAAEAAAABAA0AAAABAAEAAAABAAwAAAABAAEAAAABAAsAAAABAAEAAAABAAoAAAABAAEAAAABAAkAAAABAAEAAAAGAAgAAAACAAEAAAAGAAcAAAACAAEAAAAGAAUAAAABAAEAAAAGAAQAAAABAAEAAAAGAAIAAAABAAEAAAAGAAEAAAABAAEAAAAFAAgAAAABAAEAAAAFAAcAAAABAAEAAAAFAAYAAAABAAEAAAAFAAUAAAABAAEAAAAFAAQAAAABAAEAAAAFAAMAAAABAAEAAAAFAAIAAAABAAEAAAAFAAEAAAABAAEAAAAEAAgAAAABAAEAAAAEAAcAAAABAAEAAAAEAAYAAAABAAEAAAAEAAUAAAABAAEAAAAEAAQAAAABAAEAAAAEAAMAAAABAAEAAAAEAAIAAAABAAEAAAAEAAEAAAABAAEAAAADAAgAAAABAAEAAAADAAcAAAABAAEAAAADAAUAAAABAAEAAAADAAQAAAABAAEAAAADAAMAAAABAAEAAAADAAIAAAABAAEAAAADAAEAAAABAAEAAAACAAgAAAABAAEAAAACAAcAAAABAAEAAAACAAYAAAABAAEAAAACAAUAAAABAAEAAAACAAQAAAABAAEAAAACAAMAAAABAAEAAAACAAIAAAABAAEAAAACAAEAAAABAAEAAAABAAgAAAABAAEAAAABAAcAAAABAAEAAAABAAYAAAABAAEAAAABAAUAAAABAAEAAAABAAQAAAABAAEAAAABAAMAAAABAAEAAAABAAIAAAABAAEAAAABAAEAAAABAAEAAAAAAAgAAAAAAAEAAAAAAAcAAAAAAAEAAAAOAAYAAAABAAEAAAAOAAUAAAABAAEAAAAOAAQAAAABAAEAAAAOAAMAAAABAAEAAAAOAAIAAAABAAEAAAAOAAEAAAABAAEAAAANAAYAAAABAAEAAAANAAUAAAABAAEAAAANAAQAAAABAAEAAAANAAMAAAABAAEAAAANAAIAAAABAAEAAAANAAEAAAABAAEAAAAMAAUAAAABAAEAAAAMAAQAAAABAAEAAAAMAAMAAAABAAEAAAAMAAIAAAABAAEAAAAMAAEAAAABAAEAAAALAAYAAAABAAEAAAALAAUAAAABAAEAAAALAAQAAAABAAEAAAALAAMAAAABAAEAAAALAAIAAAABAAEAAAALAAEAAAABAAEAAAAKAAYAAAABAAEAAAAKAAUAAAABAAEAAAAKAAQAAAABAAEAAAAKAAMAAAABAAEAAAAKAAIAAAABAAEAAAAKAAEAAAABAAEAAAAJAAUAAAABAAEAAAAJAAQAAAABAAEAAAAJAAIAAAABAAEAAAAJAAEAAAABAAEAAAAIAAYAAAABAAIAAAAIAAUAAAABAAEAAAAIAAQAAAABAAEAAAAIAAMAAAABAAEAAAAIAAIAAAABAAEAAAAIAAEAAAABAAEAAAAIAAAAAAABAAAAAAAHAAYAAAABAAIAAAAHAAUAAAABAAEAAAAHAAQAAAABAAEAAAAHAAMAAAABAAEAAAAHAAIAAAABAAEAAAAHAAEAAAABAAEAAAAHAAAAAAABAAAAAAAPAAgAAAACAAEAAAAPAAcAAAACAAEAAAAOAAgAAAABAAEAAAAOAAcAAAABAAEAAAANAAgAAAABAAEAAAANAAcAAAABAAEAAAAMAAgAAAABAAEAAAAMAAcAAAABAAEAAAALAAgAAAABAAEAAAALAAcAAAABAAEAAAAKAAgAAAABAAEAAAAKAAcAAAABAAEAAAAJAAgAAAAAAAEAAAAJAAcAAAAAAAEAAAA=")
tile_set = ExtResource("3_6t10q")

[node name="OreMap" type="TileMapLayer" parent="."]

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.53, 0.53)
motion_mirroring = Vector2(800, 800)

[node name="BG" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
material = SubResource("ShaderMaterial_ijkat")
texture = SubResource("NoiseTexture2D_gbfw6")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.389287, 0.389287, 0.389287, 1)
